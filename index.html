<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Game</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Press Start 2P', monospace;
  background:#ff0000;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}

.hidden{ display:none; }

.arcade-box{
  background:white;
  border:6px solid #ff0000;
  padding:20px;
  border-radius:10px;
  width:90%;
  max-width:500px;
  text-align:center;
  box-shadow:0 0 20px #ff0000;
}

button{
  padding:10px 20px;
  font-family:'Press Start 2P', monospace;
  background:#ff0000;
  color:white;
  border:none;
  border-radius:5px;
  cursor:pointer;
}

.option{
  margin:10px 0;
  padding:10px;
  border:2px solid #ff0000;
  cursor:pointer;
  border-radius:5px;
}

.selected{
  background:#ff0000;
  color:white;
}

#feedback{
  margin-top:15px;
  color:#ff0000;
}

.heart{
  position:absolute;
  width:15px;
  height:15px;
  background:red;
  clip-path: polygon(50% 0%,61% 13%,75% 15%,85% 25%,90% 40%,85% 55%,70% 70%,50% 85%,30% 70%,15% 55%,10% 40%,15% 25%,25% 15%,39% 13%);
  animation: float 6s linear infinite;
}

@keyframes float{
  0%{transform:translateY(100vh);}
  100%{transform:translateY(-50vh);}
}
</style>
</head>
<body>

<audio id="bg-music" loop>
<source src="https://cdn.pixabay.com/download/audio/2023/01/26/audio_c1f6fa7f28.mp3?filename=arcade-game-loop-122442.mp3" type="audio/mpeg">
</audio>

<div id="start-screen" class="arcade-box">
  <h2>Valentine Game ‚ù§Ô∏è</h2>
  <button id="startBtn">START</button>
</div>

<div id="quiz-screen" class="hidden arcade-box">
  <h3 id="question"></h3>
  <div id="options"></div>
  <div id="feedback"></div>
</div>

<div id="win-screen" class="hidden arcade-box">
  <h2>You Win ‚ù§Ô∏èüèÜ</h2>
</div>

<script>
const startScreen=document.getElementById("start-screen");
const quizScreen=document.getElementById("quiz-screen");
const winScreen=document.getElementById("win-screen");
const questionEl=document.getElementById("question");
const optionsEl=document.getElementById("options");
const feedbackEl=document.getElementById("feedback");
const bgMusic=document.getElementById("bg-music");
const startBtn=document.getElementById("startBtn");

const questions=[
{q:"¬øQui√©n roba el coraz√≥n de Anto?", options:["Ale","Eithan","El√≠as"], correct:0},
{q:"¬øEn d√≥nde fue nuestro primer beso?", options:["En tu casa","En el parque","En una fiesta"], correct:1},
{q:"¬øQuieres ser mi San Valent√≠n? ‚ù§Ô∏è", options:["S√≠","No"], correct:0, special:true}
];

let current=0;
let selected=0;
let answered=false;

startBtn.addEventListener("click", startGame);

function startGame(){
  startScreen.classList.add("hidden");
  winScreen.classList.add("hidden");
  quizScreen.classList.remove("hidden");
  current=0;
  showQuestion();

  bgMusic.play().catch(()=>{});
  createHearts();
}

function showQuestion(){
  const q=questions[current];
  questionEl.textContent=q.q;
  optionsEl.innerHTML="";
  feedbackEl.textContent="";
  answered=false;
  selected=0;

  q.options.forEach((opt,i)=>{
    const div=document.createElement("div");
    div.textContent=opt;
    div.classList.add("option");
    if(i===0) div.classList.add("selected");

    // Compatible con mouse + touch
    div.addEventListener("click",()=>{
      selected=i;
      checkAnswer();
    });

    // Bot√≥n NO que huye
    if(q.special && opt==="No"){
      div.addEventListener("mouseenter",moveButton);
      div.addEventListener("touchstart",moveButton);
    }

    optionsEl.appendChild(div);
  });
}

function moveButton(e){
  const btn=e.target;
  btn.style.position="relative";
  btn.style.left=(Math.random()*200-100)+"px";
  btn.style.top=(Math.random()*50-25)+"px";
}

function updateSelection(){
  const opts=document.querySelectorAll(".option");
  opts.forEach(o=>o.classList.remove("selected"));
  opts[selected].classList.add("selected");
}

// Compatible con teclado f√≠sico
document.addEventListener("keydown",(e)=>{
  const opts=document.querySelectorAll(".option");
  if(opts.length===0) return;

  if(e.key==="ArrowDown"){
    selected=(selected+1)%opts.length;
    updateSelection();
  }

  if(e.key==="ArrowUp"){
    selected=(selected-1+opts.length)%opts.length;
    updateSelection();
  }

  if(e.key==="Enter"){
    if(!answered){
      checkAnswer();
    }else{
      nextQuestion();
    }
  }
});

function checkAnswer(){
  const q=questions[current];

  if(selected===q.correct){
    feedbackEl.textContent="¬°Correcto! ‚ù§Ô∏è";
    answered=true;
  }else{
    feedbackEl.textContent="Int√©ntalo otra vez üòÖ";
  }
}

function nextQuestion(){
  current++;
  if(current<questions.length){
    showQuestion();
  }else{
    quizScreen.classList.add("hidden");
    winScreen.classList.remove("hidden");
  }
}

function createHearts(){
  for(let i=0;i<8;i++){
    let heart=document.createElement("div");
    heart.className="heart";
    heart.style.left=Math.random()*window.innerWidth+"px";
    document.body.appendChild(heart);
  }
}
</script>

</body>
</html>
